<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¯Ù†ÛŒØ§ÛŒ Ù…Ù„Ú©Ù‡â€ŒÛŒ Ù…Ù†</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/misc/Farsi-Digits/font-face-FD.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #FFD700;
            --rose: #ff0055;
            --bg-dark: #1a0505;
            --card-glass: rgba(30, 10, 10, 0.6);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at bottom, #2e0909, #000);
            overflow: hidden;
            font-family: 'Vazirmatn', sans-serif;
            color: #fff;
        }

        /* Ø¨ÙˆÙ… Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ */
        #stars-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }

        .main-container {
            position: relative; z-index: 20; /* Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø² Ø­ÛŒÙˆØ§Ù†Ø§Øª */
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            height: 100vh; width: 100%;
            padding: 20px;
        }

        /* Ú©Ø§Ø±Øª Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ Ù„ÙˆÚ©Ø³ */
        .glass-card {
            background: var(--card-glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 30px;
            padding: 30px 20px;
            width: 100%; max-width: 380px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            transition: all 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
            display: none; opacity: 0; transform: scale(0.9);
        }

        .glass-card.active { display: block; opacity: 1; transform: scale(1); }

        h1 { font-family: 'Lalezar'; color: var(--gold); margin-bottom: 10px; font-size: 1.8rem; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
        p { font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px; color: #f0f0f0; }

        .btn-cute {
            background: linear-gradient(45deg, #ff3366, #ff6b6b);
            border: none; padding: 12px 35px;
            color: white; border-radius: 50px;
            font-family: 'Lalezar'; font-size: 1.2rem;
            cursor: pointer; box-shadow: 0 5px 15px rgba(255, 51, 102, 0.4);
            transition: 0.3s;
        }
        .btn-cute:active { transform: scale(0.95); }

        /* --- Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø­ÛŒÙˆØ§Ù†Ø§Øª (Walkers) --- */
        .walker {
            position: fixed;
            bottom: 10px; /* Ø±ÙˆÛŒ Ø²Ù…ÛŒÙ† Ø±Ø§Ù‡ Ø¨Ø±ÙˆÙ†Ø¯ */
            z-index: 5;
            font-size: 40px;
            pointer-events: none;
            animation: walkRight linear forwards;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.2));
        }

        @keyframes walkRight {
            0% { transform: translateX(-100px) scaleX(1); } /* Ø§Ø² Ú†Ù¾ Ù…ÛŒØ§Ø¯ */
            100% { transform: translateX(110vw) scaleX(1); } /* Ù…ÛŒØ±Ù‡ Ø±Ø§Ø³Øª */
        }

        /* --- Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù¾Ø±ÙˆØ§Ù†Ù‡â€ŒÙ‡Ø§ (Flyers) --- */
        .flyer {
            position: fixed;
            z-index: 6;
            font-size: 30px;
            pointer-events: none;
            animation: flyAround linear forwards;
        }

        @keyframes flyAround {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translate(100px, -100vh) rotate(20deg); opacity: 0; }
        }

        /* --- Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù‚Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø±ÙˆÙ†Ø¯Ù‡ --- */
        .heart-rise {
            position: fixed; bottom: -50px; z-index: 10;
            animation: riseUp linear forwards;
        }
        @keyframes riseUp {
            0% { transform: translateY(0); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-110vh); opacity: 0; }
        }

    </style>
</head>
<body>

    <canvas id="stars-canvas"></canvas>

    <audio id="music" loop preload="auto">
        <source src="song.mp3" type="audio/mpeg">
        <source src="song.mp3.mp3" type="audio/mpeg">
    </audio>

    <div class="main-container">
        <div id="card1" class="glass-card active">
            <div style="font-size: 80px; animation: bounce 2s infinite;">ğŸ</div>
            <h1>Ø¨Ø±Ø§ÛŒ Ù…Ù„Ú©Ù‡ Ù‚Ù„Ø¨Ù…</h1>
            <p>Ø§ÛŒÙ† Ø¨Ø§Øº Ø²ÛŒØ¨Ø§ ØªÙ‚Ø¯ÛŒÙ… Ø¨Ù‡ Ú©Ø³ÛŒ Ú©Ù‡<br>Ø²Ù†Ø¯Ú¯ÛŒÙ… Ø±Ùˆ Ù…Ø«Ù„ Ø±ÙˆÛŒØ§ Ú©Ø±Ø¯...</p>
            <button class="btn-cute" onclick="startShow()">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¯Ù†ÛŒØ§ÛŒ Ø¹Ø´Ù‚ â¤ï¸</button>
        </div>

        <div id="card2" class="glass-card">
            <div id="msg-box" style="min-height: 120px; display:flex; align-items:center; justify-content:center;"></div>
            <button class="btn-cute" onclick="nextMsg()">Ø¨Ø¹Ø¯ÛŒ âœ¨</button>
        </div>

        <div id="card3" class="glass-card">
            <h1 style="color: var(--gold); font-size: 2.2rem;">ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ø¹Ø´Ù‚Ù…!</h1>
            <p>Ø¯ÙˆØ³ØªØª Ø¯Ø§Ø±Ù…ØŒ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØªÙ…Ø§Ù… Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø³Ù…Ø§Ù†...</p>
            <button class="btn-cute" style="background: linear-gradient(45deg, #ffd700, #ffaa00);" onclick="finalMagic()">ğŸ’– Ø¨Ø§Ø±Ø§Ù† Ø¹Ø´Ù‚ Ùˆ Ø¨ÙˆØ³Ù‡ ğŸ’–</button>
        </div>
    </div>

    <script>
        const audio = document.getElementById('music');
        const messages = [
            "Ø¹Ø´Ù‚Ù… ğŸ’–<br>Ø§Ù…Ø±ÙˆØ² Ø±ÙˆØ²ÛŒ Ø§Ø³Øª Ú©Ù‡<br>ÙØ±Ø´ØªÙ‡â€ŒØ§ÛŒ Ø¨Ù‡ Ù†Ø§Ù… ØªÙˆ Ù¾Ø§ Ø¨Ù‡ Ø²Ù…ÛŒÙ† Ú¯Ø°Ø§Ø´Øª ğŸ‘‘âœ¨",
            "Ø¬Ù‡Ø§Ù† Ù…Ù† Ø¨Ø§ Ø®Ù†Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙˆ<br>Ø±ÙˆØ´Ù† Ùˆ Ø²ÛŒØ¨Ø§ Ø´Ø¯ ğŸŒ¹",
            "Ù‡Ø± Ù†Ú¯Ø§Ù‡ ØªÙˆ ğŸ‘€<br>Ø¢Ø±Ø§Ù…Ø´ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø·ÙˆÙØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø¯Ù„Ù… Ø±Ø§ Ø³Ø§Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ğŸƒ",
            "Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ø¯ÙˆØ±ÛŒ ğŸŒŒ<br>Ø­Ø³ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ú©Ù†Ø§Ø±Ù… Ù‚Ø¯Ù… Ù…ÛŒâ€ŒØ²Ù†ÛŒ ğŸ’",
            "ØªÙˆ Ø¢Ù† Ú¯Ø±Ø¨Ù‡â€ŒÛŒ Ù…Ù„ÙˆØ³ÛŒ Ù‡Ø³ØªÛŒ<br>Ú©Ù‡ ØµØ§Ø­Ø¨ ØªÙ…Ø§Ù… Ù‚Ù„Ø¨ Ù…Ù† Ø´Ø¯ÛŒ! ğŸˆğŸ’–",
            "ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© ØªÙ…Ø§Ù…Ù Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ù† ğŸ‰<br>Ø¹Ø§Ø´Ù‚ØªÙ… ØªØ§ Ø§Ø¨Ø¯! ğŸ”¥ğŸŒ¹"
        ];
        let idx = 0;

        // --- Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡ ---
        function startShow() {
            audio.play().catch(e => console.log("Audio needs interaction"));
            swap('card1', 'card2');
            showText();
            
            // Ø´Ø±ÙˆØ¹ Ø±Ú˜Ù‡ Ø­ÛŒÙˆØ§Ù†Ø§Øª
            setInterval(createWalker, 3000); // Ù‡Ø± 3 Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ© Ø­ÛŒÙˆØ§Ù† Ø±Ø¯ Ù…ÛŒØ´Ù‡
            setInterval(createFlyer, 2000);  // Ù¾Ø±ÙˆØ§Ù†Ù‡â€ŒÙ‡Ø§
        }

        function swap(hide, show) {
            document.getElementById(hide).classList.remove('active');
            setTimeout(() => {
                document.getElementById(hide).style.display = 'none';
                document.getElementById(show).classList.add('active');
            }, 500);
        }

        function showText() {
            const box = document.getElementById('msg-box');
            box.style.opacity = 0;
            setTimeout(() => {
                box.innerHTML = `<h2 class="lalezar" style="color:#fff; line-height:1.6;">${messages[idx]}</h2>`;
                box.style.opacity = 1;
            }, 300);
        }

        function nextMsg() {
            idx++;
            if (idx < messages.length) showText();
            else swap('card2', 'card3');
        }

        function finalMagic() {
            audio.play();
            // Ø¨Ø§Ø±Ø§Ù† Ø´Ø¯ÛŒØ¯ Ù‚Ù„Ø¨ Ø§Ø² Ù¾Ø§ÛŒÛŒÙ†
            setInterval(() => {
                const h = document.createElement('div');
                h.className = 'heart-rise';
                h.innerHTML = ['â¤ï¸','ğŸ’–','ğŸ’‹','âœ¨'][Math.floor(Math.random()*4)];
                h.style.left = Math.random()*100+'vw';
                h.style.fontSize = (Math.random()*30+20)+'px';
                h.style.animationDuration = (Math.random()*2+3)+'s';
                document.body.appendChild(h);
                setTimeout(()=>h.remove(), 5000);
            }, 100);
        }

        // --- ØªÙˆØ§Ø¨Ø¹ Ø³Ø§Ø®Øª Ø­ÛŒÙˆØ§Ù†Ø§Øª (Cuteness Overload) ---

        // 1. Ø­ÛŒÙˆØ§Ù†Ø§Øª Ø²Ù…ÛŒÙ†ÛŒ (Ø±Ø§Ù‡ Ø±ÙˆÙ†Ø¯Ù‡)
        function createWalker() {
            const walker = document.createElement('div');
            walker.className = 'walker';
            
            // Ù„ÛŒØ³Øª Ø­ÛŒÙˆØ§Ù†Ø§Øª Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ Ø¯Ø®ØªØ±Ù‡Ø§
            const animals = ['ğŸˆ', 'ğŸˆâ€â¬›', 'ğŸ‡', 'ğŸ©', 'ğŸ¦Œ', 'ğŸ¦†']; 
            walker.innerHTML = animals[Math.floor(Math.random() * animals.length)];
            
            // Ø³Ø±Ø¹Øª Ø­Ø±Ú©Øª ØªØµØ§Ø¯ÙÛŒ
            const duration = Math.random() * 10 + 10; // Ø¨ÛŒÙ† 10 ØªØ§ 20 Ø«Ø§Ù†ÛŒÙ‡ (Ø¢Ø±Ø§Ù…)
            walker.style.animationDuration = duration + 's';
            
            document.body.appendChild(walker);
            setTimeout(() => walker.remove(), duration * 1000);
        }

        // 2. Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ù¾Ø±Ù†Ø¯Ù‡ (Ù¾Ø±ÙˆØ§Ù†Ù‡ Ùˆ Ù¾Ø±Ù†Ø¯Ù‡)
        function createFlyer() {
            const flyer = document.createElement('div');
            flyer.className = 'flyer';
            const wings = ['ğŸ¦‹', 'ğŸ•Šï¸', 'ğŸ', 'ğŸ'];
            flyer.innerHTML = wings[Math.floor(Math.random() * wings.length)];
            
            flyer.style.left = Math.random() * 100 + 'vw';
            flyer.style.top = Math.random() * 80 + 'vh'; // Ø¯Ø± Ø§Ø±ØªÙØ§Ø¹â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
            
            const dur = Math.random() * 5 + 5;
            flyer.style.animationDuration = dur + 's';
            
            document.body.appendChild(flyer);
            setTimeout(() => flyer.remove(), dur * 1000);
        }

        // --- Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø³ØªØ§Ø±Ù‡â€ŒØ§ÛŒ ---
        const canvas = document.getElementById('stars-canvas');
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();
        
        const stars = Array(100).fill().map(() => ({
            x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()*1.5
        }));
        
        function drawStars() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = "white";
            stars.forEach(s => { ctx.beginPath(); ctx.arc(s.x, s.y, s.s, 0, Math.PI*2); ctx.fill(); });
            requestAnimationFrame(drawStars);
        }
        drawStars();

    </script>
</body>
</html>
