<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ø¹Ø´Ù‚Ù…</title>
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&family=Vazirmatn:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --rose-red: #e63946;
            --soft-pink: #ff85a1;
            --gold: #ffd700;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; font-family: 'Vazirmatn', sans-serif;
            background: radial-gradient(circle at center, #2b0d0d 0%, #0a0505 100%);
        }

        /* Ù„Ø§ÛŒÙ‡ Ú¯Ù„Ø¨Ø±Ú¯â€ŒÙ‡Ø§ Ùˆ Ù‚Ù„Ø¨â€ŒÙ‡Ø§ */
        #particle-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }

        .main-wrapper {
            position: relative; z-index: 10;
            display: flex; justify-content: center; align-items: center;
            height: 100vh;
        }

        /* Ú©Ø§Ø±Øª Ù†Ø¦ÙˆÙ†ÛŒ Ø±Ù…Ø§Ù†ØªÛŒÚ© Ù…Ø´Ø§Ø¨Ù‡ ØªØµÙˆÛŒØ± */
        .glass-card {
            background: rgba(255, 51, 102, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid var(--rose-red);
            border-radius: 25px;
            padding: 40px;
            text-align: center;
            max-width: 450px; width: 85%;
            box-shadow: 0 0 30px rgba(230, 57, 70, 0.4), inset 0 0 20px rgba(230, 57, 70, 0.2);
            transition: all 0.6s ease;
        }

        .lalezar { font-family: 'Lalezar', cursive; }
        
        .gift-box {
            font-size: 80px; cursor: pointer;
            filter: drop-shadow(0 0 15px var(--gold));
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .btn {
            background: linear-gradient(45deg, var(--rose-red), var(--soft-pink));
            border: none; padding: 15px 40px;
            color: white; border-radius: 50px;
            font-family: 'Lalezar', cursive; font-size: 1.4rem;
            cursor: pointer; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(230, 57, 70, 0.4);
            margin-top: 25px;
        }

        .btn:hover { transform: scale(1.05); box-shadow: 0 8px 25px var(--rose-red); }

        .message-area { font-size: 1.8rem; line-height: 1.5; min-height: 100px; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        .hidden { display: none; opacity: 0; }

        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú¯Ù„Ø¨Ø±Ú¯â€ŒÙ‡Ø§ */
        .petal {
            position: fixed; pointer-events: none; z-index: 2;
            animation: fall linear forwards;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }
    </style>
</head>
<body>

    <div id="particle-container"></div>

    <audio id="bgMusic" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="main-wrapper">
        <div id="scr1" class="glass-card">
            <div class="gift-box" onclick="startApp()">ğŸ</div>
            <h1 class="lalezar" style="color: var(--soft-pink);">ÛŒÚ© Ù‡Ø¯ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ØªÙˆ</h1>
            <button class="btn" onclick="startApp()">Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† â¤ï¸</button>
        </div>

        <div id="scr2" class="glass-card hidden">
            <div id="text-target" class="message-area lalezar"></div>
            <button class="btn" onclick="nextMsg()">Ø¨Ø¹Ø¯ÛŒ ğŸ’Œ</button>
        </div>

        <div id="scr3" class="glass-card hidden">
            <h1 class="lalezar" style="color: var(--gold); font-size: 2.5rem;">ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ø¹Ø´Ù‚Ù…!</h1>
            <button class="btn" style="background: var(--gold); color: #000;" onclick="storm()">ğŸ’– Ø§Ù†ÙØ¬Ø§Ø± Ú¯Ù„Ø¨Ø±Ú¯â€ŒÙ‡Ø§ ğŸ’–</button>
            <div id="final-txt" class="lalezar hidden" style="margin-top: 20px; font-size: 2.2rem; color: var(--soft-pink);">ØªØ§ Ø§Ø¨Ø¯ Ø¯ÙˆØ³ØªØª Ø¯Ø§Ø±Ù… â¤ï¸</div>
        </div>
    </div>

    <script>
        const audio = document.getElementById('bgMusic');
        const container = document.getElementById('particle-container');
        const messages = [
            "Ø¹Ø´Ù‚Ù… ğŸ’–ØŒ ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© ğŸ‚âœ¨!",
            "Ø§Ù…Ø±ÙˆØ² Ø±ÙˆØ² ØªÙˆØ³Øª Ùˆ Ø¯Ù„Ù… Ù…ÛŒâ€ŒØ®ÙˆØ§Ø³Øª Ú©Ù†Ø§Ø± ØªÙˆ Ø¨Ø§Ø´Ù… ğŸŒ¹",
            "Ú©Ø§Ø´ Ù…ÛŒâ€ŒØ´Ø¯ Ø¯Ø³ØªØª Ø±Ø§ Ø¯Ø± Ø¯Ø³ØªÙ… Ø¨Ú¯ÛŒØ±Ù… ğŸ¤²",
            "Ø§Ù…Ø§ Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ø§Ø² Ù‡Ù… Ø¯ÙˆØ±ÛŒÙ…... ğŸŒŒ",
            "Ø­Ø³ Ù…ÛŒâ€ŒÚ©Ù†Ù… ØªÙˆ Ù‡Ù…ÛŒÙ† Ù„Ø­Ø¸Ù‡ Ú©Ù†Ø§Ø± Ù…Ù† Ù‡Ø³ØªÛŒ ğŸ’",
            "ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú©ØŒ ØªÙ…Ø§Ù…Ù Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ù† ğŸ‰ğŸ’›ğŸ¶!"
        ];

        let msgIdx = 0;

        function createPetal(type) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            // Ø§Ù†ØªØ®Ø§Ø¨ ØªØµØ§Ø¯ÙÛŒ Ø¨ÛŒÙ† Ú¯Ù„Ø¨Ø±Ú¯ Ø±Ø² Ùˆ Ù‚Ù„Ø¨
            const items = ['ğŸŒ¸', 'ğŸŒ¹', 'â¤ï¸', 'ğŸ’–', 'ğŸƒ'];
            petal.innerHTML = items[Math.floor(Math.random() * items.length)];
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.fontSize = (Math.random() * 20 + 20) + 'px';
            const duration = Math.random() * 4 + 4;
            petal.style.animationDuration = duration + 's';
            container.appendChild(petal);
            setTimeout(() => petal.remove(), duration * 1000);
        }

        // Ø¨Ø§Ø±Ø´ Ù…Ù„Ø§ÛŒÙ… Ù‡Ù…ÛŒØ´Ú¯ÛŒ
        setInterval(() => createPetal(), 400);

        function startApp() {
            audio.play().catch(() => {});
            transition('scr1', 'scr2');
            updateText();
        }

        function transition(id1, id2) {
            const s1 = document.getElementById(id1);
            const s2 = document.getElementById(id2);
            s1.style.opacity = '0';
            setTimeout(() => {
                s1.classList.add('hidden');
                s2.classList.remove('hidden');
                setTimeout(() => s2.style.opacity = '1', 50);
            }, 500);
        }

        function updateText() {
            document.getElementById('text-target').innerText = messages[msgIdx];
        }

        function nextMsg() {
            msgIdx++;
            if(msgIdx < messages.length) updateText();
            else transition('scr2', 'scr3');
        }

        function storm() {
            document.getElementById('final-txt').classList.remove('hidden');
            document.getElementById('final-txt').style.opacity = '1';
            audio.play();
            // Ø§Ù†ÙØ¬Ø§Ø± Ø´Ø¯ÛŒØ¯ Ú¯Ù„Ø¨Ø±Ú¯
            setInterval(() => createPetal(), 80);
        }
    </script>
</body>
</html>
